<app-loading *ngIf='loading'></app-loading>

<div class='container animated fadeIn fast'>
  <div class='card'>
    <!-- Title -->
    <div class='card m-1'>
      <div class='card-header'>
        Listado de candidatos ({{totalElements}} registros)
      </div>
    </div>

    <!-- Header -->
    <table class='table table-striped table-hover table-sm fixed'>
      <caption>Candidatos</caption>
      <thead>
        <tr>
          <td width= 10>#</td>
          <th scope='col' *ngFor='let col of columns' width={{col.width}}  title='Ordenar por {{col.header}}'>
            <em (click)='setColumn(col.field)' style='cursor: pointer;'  [style] = col.style>{{col.header}}</em>
          </th>
        </tr>
      </thead>
      <!-- Data -->
      <tbody>
        <tr *ngFor='let candidate of candidates; let i = index'>
          <td >{{i+1}}</td>
          <td *ngFor='let col of columns' class='{{col.class}}'>
            <!-- <em [style] = col.style>{{candidate[col.field] | pipformat: [col.target]: [col.type]: [col.format]}}</em> -->
            <em [style] = col.style>{{col.field | pipformat: [col.target]: [col.type]: [col.format]}}</em>

            <!-- <em *ngIf='col.isAdmin' [style] = col.style class='{{col.icon}}'(click)='selectedCandidate(i)' title='{{col.title}}'></em> -->
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Navigation -->
    <div class='card m-1'>
      <div class='card-footer'>
        <nav aria-label='...'>
          <ul class='pagination'>
            <select style=' width: 100px; margin-right: 10px; cursor: pointer;' class='form-control' ngModel (ngModelChange)='setSize($event)'>
              <option value='' selected disabled hidden>{{size}}</option>
              <option *ngFor='let item of items' [ngValue]='item'>
                {{item}}
              </option>
            </select>
            <li [ngClass]='{active:isFirst}' class='page-item' style='cursor: pointer;'>
              <span class='page-link text-dark' (click)='first()'><em class='fas fa-fast-backward' title = 'Primera'></em></span>
            </li>
            <li [ngClass]='{active:isFirst}' class='page-item' style='cursor: pointer;'>
              <span class='page-link text-dark' (click)='rewind()'><em class='fas fa-caret-left' title = 'Anterior'></em></span>
            </li>
            <span *ngFor='let p of totalPages; let i = index'>
              <li [ngClass]='{active: i===page}' class='page-item' aria-current='page' style='cursor: pointer;'>
                <span class='page-link text-dark' (click)='setPage(i)' title = 'Actual'>{{ i+1 }}</span>
              </li>
            </span>
            <li [ngClass]='{active:isLast}' class='page-item' style='cursor: pointer;'>
              <span class='page-link text-dark' (click)='forward()'><em class='fas fa-caret-right' title = 'PrÃ³xima'></em></span>
            </li>
            <li [ngClass]='{active:isLast}' class='page-item' style='cursor: pointer;'>
              <span class='page-link text-dark' (click)='last()'><em class='fas fa-fast-forward' title = 'Ultima'></em></span>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
